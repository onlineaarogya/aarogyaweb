{"ast":null,"code":"import _extends from \"C:/Users/onlin/OneDrive/Desktop/site/aarogyaweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"C:/Users/onlin/OneDrive/Desktop/site/aarogyaweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\onlin\\\\OneDrive\\\\Desktop\\\\site\\\\aarogyaweb\\\\src\\\\views\\\\AfterLogin\\\\MemberDetails\\\\components\\\\UploadFile\\\\UploadFile.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport MuiDialogActions from '@material-ui/core/DialogActions';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport PublishIcon from '@material-ui/icons/Publish';\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { AttachFile, AudioTrack, Description, PictureAsPdf, Theaters } from '@material-ui/icons';\nimport { Link, NavLink } from \"react-router-dom\";\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport { Redirect } from 'react-router-dom';\nimport { useHistory } from \"react-router-dom\";\nimport Alert from '@material-ui/lab/Alert';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nconst styless = makeStyles(theme => ({\n  root: {\n    background: '#4caf50'\n  }\n})); // Code for Image crop \n\nfunction generateDownload(canvas, crop) {\n  if (!crop || !canvas) {\n    return;\n  }\n\n  canvas.toBlob(blob => {\n    const previewUrl = window.URL.createObjectURL(blob);\n    const anchor = document.createElement('a');\n    anchor.download = 'cropPreview.png';\n    anchor.href = URL.createObjectURL(blob);\n    anchor.click();\n    window.URL.revokeObjectURL(previewUrl);\n  }, 'image/png', 1);\n} // End of Image crop \n\n\nconst styles = theme => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2)\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500]\n  }\n});\n\nconst DialogTitle = withStyles(styles)(props => {\n  const {\n    children,\n    classes,\n    onClose\n  } = props,\n        other = _objectWithoutProperties(props, [\"children\", \"classes\", \"onClose\"]);\n\n  return __jsx(MuiDialogTitle, _extends({\n    disableTypography: true,\n    className: classes.root\n  }, other, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }), __jsx(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, children), onClose ? __jsx(IconButton, {\n    \"aria-label\": \"close\",\n    className: classes.closeButton,\n    onClick: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, __jsx(CloseIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  })) : null);\n});\nconst DialogContent = withStyles(theme => ({\n  root: {\n    padding: theme.spacing(2)\n  }\n}))(MuiDialogContent);\nconst DialogActions = withStyles(theme => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1)\n  }\n}))(MuiDialogActions);\nexport default function CustomizedDialogs(props) {\n  _s();\n\n  // More Code for Image Crop \n  const {\n    0: upImg,\n    1: setUpImg\n  } = useState();\n  const imgRef = useRef(null);\n  const previewCanvasRef = useRef(null);\n  const {\n    0: crop,\n    1: setCrop\n  } = useState({\n    unit: '%',\n    width: 30,\n    aspect: 16 / 9\n  });\n  const {\n    0: completedCrop,\n    1: setCompletedCrop\n  } = useState(null);\n  const classes = styless();\n\n  const onSelectFile = e => {\n    if (e.target.files && e.target.files.length > 0) {\n      const reader = new FileReader();\n      reader.addEventListener('load', () => setUpImg(reader.result));\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  };\n\n  const onLoad = useCallback(img => {\n    imgRef.current = img;\n  }, []);\n  useEffect(() => {\n    if (!completedCrop || !previewCanvasRef.current || !imgRef.current) {\n      return;\n    }\n\n    const image = imgRef.current;\n    const canvas = previewCanvasRef.current;\n    const crop = completedCrop;\n    const scaleX = image.naturalWidth / image.width;\n    const scaleY = image.naturalHeight / image.height;\n    const ctx = canvas.getContext('2d');\n    const pixelRatio = window.devicePixelRatio;\n    canvas.width = crop.width * pixelRatio;\n    canvas.height = crop.height * pixelRatio;\n    ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    ctx.imageSmoothingQuality = 'high';\n    ctx.drawImage(image, crop.x * scaleX, crop.y * scaleY, crop.width * scaleX, crop.height * scaleY, 0, 0, crop.width, crop.height);\n  }, [completedCrop]); // End of Crop Image code \n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const file = new File([\"foo\"], \"\", {\n    type: \"text/plain\"\n  });\n  const {\n    0: selectedFile,\n    1: setSelectedFile\n  } = useState();\n  const {\n    0: isFilePicked,\n    1: setIsFilePicked\n  } = useState(false);\n\n  const changeHandler = event => {\n    setSelectedFile(event.target.files[0]); //setIsSelected(true);\n  };\n\n  const {\n    0: fileList,\n    1: setFileList\n  } = useState();\n  useEffect(() => {\n    console.log(fileList);\n  });\n  const history = useHistory();\n  const {\n    0: filename,\n    1: setFileName\n  } = useState([]);\n  const {\n    0: filesNa,\n    1: setFilesNa\n  } = useState([]);\n  const {\n    0: modelImg,\n    1: setModelImg\n  } = useState('');\n  const {\n    0: buttonSubmit,\n    1: setButtonSubmit\n  } = useState('');\n  const {\n    0: sendDocs,\n    1: setsendDocs\n  } = useState([]);\n\n  const handleChange = e => {\n    if (!e.target.files[0].name.match(/.(pdf|docx)$/i)) {\n      const reader = new FileReader();\n      reader.addEventListener('load', () => setFileName(reader.result));\n      reader.readAsDataURL(e.target.files[0]);\n      setFileName(e.target.files[0].name);\n    } else {\n      setFilesNa(handleClicks); // Code for Alert message show below \n\n      setFilesNa(e.target.files[0].name);\n      setsendDocs(e.target.files[0]); // setButtonSubmit( <Button autoFocus onClick={uploadFile} color=\"primary\"> Upload File </Button>);\n    }\n  }; // Code for Snackbar \n\n\n  const [opens, setOpens] = React.useState(false);\n\n  const handleClicks = () => {\n    setOpens(true);\n  };\n\n  const handleCloses = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpens(false);\n  }; // Code for Document Upload \n\n\n  const {\n    0: selectedFiles,\n    1: setSelectedFiles\n  } = useState();\n\n  const uploadImage = async (e) => {\n    const formData = new FormData();\n    formData.append(\"file\", filename);\n    formData.append(\"name\", \"DHEERAJ\");\n    await fetch(\"http://localhost:8000/api/upload\", {\n      method: \"POST\",\n      body: formData\n    }).then(result => {//loadList();\n    }).catch(() => {\n      alert('Error in the Code');\n    });\n  }; // Code for File Upload\n\n\n  const uploadFile = async (e) => {\n    const formData = new FormData();\n    formData.append(\"files\", sendDocs);\n    await fetch(\"http://localhost:8000/api/upload\", {\n      method: \"POST\",\n      body: formData\n    }).then(result => {\n      alert('File Upload Successully');\n    }).catch(() => {\n      alert('Error in the Code');\n    });\n  };\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 5\n    }\n  }, __jsx(Button, {\n    onClick: handleClickOpen,\n    variant: \"contained\",\n    style: {\n      background: \"red\",\n      color: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 5\n    }\n  }, __jsx(PublishIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 101\n    }\n  }), \"AddFile\"), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }\n  }, __jsx(Dialog, {\n    onClose: handleClose,\n    \"aria-labelledby\": \"customized-dialog-title\",\n    open: open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }\n  }, __jsx(DialogTitle, {\n    id: \"customized-dialog-title\",\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 8\n    }\n  }, \" \", filename != '' ? __jsx(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 32\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 44\n    }\n  }, \" Image Crop \")) : __jsx(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 79\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 91\n    }\n  }, \" File Upload \")), \" \")), __jsx(DialogContent, {\n    dividers: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 11\n    }\n  }, __jsx(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"File\",\n    style: {\n      width: \"300px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }\n  }, __jsx(Box, {\n    align: \"center\",\n    mt: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 15\n    }\n  }, filename != '' ? __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 33\n    }\n  }) : __jsx(CloudUploadIcon, {\n    color: \"disabled\",\n    fontSiz: \"large\",\n    style: {\n      width: 40,\n      height: 40\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 43\n    }\n  })), filename != '' ? __jsx(Typography, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 33\n    }\n  }, \"Selected Image\") : __jsx(Typography, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 90\n    }\n  }, filesNa != '' ? __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 135\n    }\n  }, __jsx(Alert, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 138\n    }\n  }, filesNa), \" \") : __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 170\n    }\n  }, \"No File Selected\"))), __jsx(\"div\", {\n    className: \"Image\",\n    style: {\n      marginTop: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }\n  }, __jsx(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 14\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 16\n    }\n  }, __jsx(\"img\", {\n    src: filename,\n    style: {\n      height: \"200px\",\n      width: \"50%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 15\n    }\n  }))), filename != '' ? __jsx(Box, {\n    align: \"center\",\n    mt: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    size: \"small\",\n    component: \"label\",\n    style: {\n      marginTop: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 19\n    }\n  }, \"Choose another Image\", __jsx(\"input\", {\n    type: \"file\",\n    accept: \".png, .jpg, .jpeg, .pdf,.docx\",\n    hidden: true,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 17\n    }\n  }))) : __jsx(Box, {\n    align: \"center\",\n    mt: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 16\n    }\n  })), filename != '' ? __jsx(Box, {\n    align: \"center\",\n    mt: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 15\n    }\n  }) : __jsx(Box, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    size: \"small\",\n    component: \"label\",\n    style: {\n      marginTop: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 18\n    }\n  }, \"Choose File\", __jsx(\"input\", {\n    type: \"file\",\n    accept: \".png, .jpg, .jpeg, .pdf,.docx\",\n    hidden: true,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 18\n    }\n  }))))), __jsx(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 7\n    }\n  }, filename != '' ? __jsx(Button, {\n    autoFocus: true,\n    onClick: uploadImage,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 9\n    }\n  }, \"Image Upload\") : __jsx(Button, {\n    autoFocus: true,\n    onClick: uploadFile,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 10\n    }\n  }, \"Upload File\"), __jsx(Button, {\n    autoFocus: true,\n    onClick: handleClose,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 9\n    }\n  }, \"Close\")))), __jsx(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'left'\n    },\n    open: opens,\n    autoHideDuration: 6000,\n    onClose: handleCloses,\n    message: \"File Uploaded Successfully\",\n    ContentProps: {\n      classes: {\n        root: classes.root\n      }\n    },\n    action: __jsx(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 11\n      }\n    }, __jsx(IconButton, {\n      size: \"small\",\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      onClick: handleCloses,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 13\n      }\n    }, __jsx(CloseIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 15\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 5\n    }\n  }));\n}\n\n_s(CustomizedDialogs, \"JTKjWQZja2VmaqTZiPtyyPSDUNQ=\", false, function () {\n  return [useHistory];\n});\n\n_c = CustomizedDialogs;\n\nvar _c;\n\n$RefreshReg$(_c, \"CustomizedDialogs\");","map":{"version":3,"sources":["C:/Users/onlin/OneDrive/Desktop/site/aarogyaweb/src/views/AfterLogin/MemberDetails/components/UploadFile/UploadFile.js"],"names":["React","withStyles","Button","Dialog","MuiDialogTitle","MuiDialogContent","MuiDialogActions","IconButton","CloseIcon","Box","Typography","PublishIcon","useState","useEffect","useCallback","useRef","AttachFile","AudioTrack","Description","PictureAsPdf","Theaters","Link","NavLink","CloudUploadIcon","Redirect","useHistory","Alert","Snackbar","makeStyles","axios","styless","theme","root","background","generateDownload","canvas","crop","toBlob","blob","previewUrl","window","URL","createObjectURL","anchor","document","createElement","download","href","click","revokeObjectURL","styles","margin","padding","spacing","closeButton","position","right","top","color","palette","grey","DialogTitle","props","children","classes","onClose","other","DialogContent","DialogActions","CustomizedDialogs","upImg","setUpImg","imgRef","previewCanvasRef","setCrop","unit","width","aspect","completedCrop","setCompletedCrop","onSelectFile","e","target","files","length","reader","FileReader","addEventListener","result","readAsDataURL","onLoad","img","current","image","scaleX","naturalWidth","scaleY","naturalHeight","height","ctx","getContext","pixelRatio","devicePixelRatio","setTransform","imageSmoothingQuality","drawImage","x","y","open","setOpen","handleClickOpen","handleClose","file","File","type","selectedFile","setSelectedFile","isFilePicked","setIsFilePicked","changeHandler","event","fileList","setFileList","console","log","history","filename","setFileName","filesNa","setFilesNa","modelImg","setModelImg","buttonSubmit","setButtonSubmit","sendDocs","setsendDocs","handleChange","name","match","handleClicks","opens","setOpens","handleCloses","reason","selectedFiles","setSelectedFiles","uploadImage","formData","FormData","append","fetch","method","body","then","catch","alert","uploadFile","marginTop","vertical","horizontal"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport {useState,useEffect,useCallback, useRef} from 'react';\r\n\r\nimport { AttachFile, AudioTrack, Description, PictureAsPdf, Theaters } from '@material-ui/icons';\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport  { Redirect } from 'react-router-dom'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport axios from \"axios\";\r\n\r\nconst styless = makeStyles((theme) => ({\r\n  root: {\r\n    background: '#4caf50'\r\n  }\r\n}));\r\n// Code for Image crop \r\n\r\nfunction generateDownload(canvas, crop) {\r\n  if (!crop || !canvas) {\r\n    return;\r\n  }\r\n\r\n  canvas.toBlob(\r\n    (blob) => {\r\n      const previewUrl = window.URL.createObjectURL(blob);\r\n\r\n      const anchor = document.createElement('a');\r\n      anchor.download = 'cropPreview.png';\r\n      anchor.href = URL.createObjectURL(blob);\r\n      anchor.click();\r\n\r\n      window.URL.revokeObjectURL(previewUrl);\r\n    },\r\n    'image/png',\r\n    1\r\n  );\r\n}\r\n\r\n// End of Image crop \r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nexport default function CustomizedDialogs(props) {\r\n\r\n  // More Code for Image Crop \r\n  const [upImg, setUpImg] = useState();\r\n  const imgRef = useRef(null);\r\n  const previewCanvasRef = useRef(null);\r\n  const [crop, setCrop] = useState({ unit: '%', width: 30, aspect: 16 / 9 });\r\n  const [completedCrop, setCompletedCrop] = useState(null);\r\n\r\n\r\n  const classes = styless();\r\n  \r\n\r\n  const onSelectFile = (e) => {\r\n\r\n\r\n    if (e.target.files && e.target.files.length > 0) {\r\n      const reader = new FileReader();\r\n      reader.addEventListener('load', () => setUpImg(reader.result));\r\n      reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const onLoad = useCallback((img) => {\r\n    imgRef.current = img;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!completedCrop || !previewCanvasRef.current || !imgRef.current) {\r\n      return;\r\n    }\r\n\r\n    const image = imgRef.current;\r\n    const canvas = previewCanvasRef.current;\r\n    const crop = completedCrop;\r\n\r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n    const ctx = canvas.getContext('2d');\r\n    const pixelRatio = window.devicePixelRatio;\r\n\r\n    canvas.width = crop.width * pixelRatio;\r\n    canvas.height = crop.height * pixelRatio;\r\n\r\n    ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\r\n    ctx.imageSmoothingQuality = 'high';\r\n\r\n    ctx.drawImage(\r\n      image,\r\n      crop.x * scaleX,\r\n      crop.y * scaleY,\r\n      crop.width * scaleX,\r\n      crop.height * scaleY,\r\n      0,\r\n      0,\r\n      crop.width,\r\n      crop.height\r\n    );\r\n  }, [completedCrop]);\r\n  \r\n  // End of Crop Image code \r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const file = new File([\"foo\"], \"\", {\r\n    type: \"text/plain\",\r\n  });\r\n\r\n  const [selectedFile, setSelectedFile] = useState();\r\n\tconst [isFilePicked, setIsFilePicked] = useState(false);\r\n\r\n  const changeHandler = (event) => {\r\n\t\tsetSelectedFile(event.target.files[0]);\r\n\t\t//setIsSelected(true);\r\n\t};\r\n   \r\n\r\n  const [fileList, setFileList] = useState();\r\n\r\n  useEffect(() => {\r\n    console.log(fileList);\r\n  });\r\n\r\n  \r\n\r\n  const history = useHistory();\r\n  const[filename,setFileName]= useState([]);\r\n  const[filesNa,setFilesNa]= useState([]);\r\n  const[modelImg,setModelImg] = useState('');\r\n  const[buttonSubmit,setButtonSubmit] = useState('');\r\n  const[sendDocs,setsendDocs]= useState([]);\r\n\r\n  const handleChange = (e) =>\r\n  {\r\n      if(!e.target.files[0].name.match(/.(pdf|docx)$/i))\r\n      { \r\n          const reader = new FileReader();\r\n          reader.addEventListener('load', () => setFileName(reader.result));\r\n          reader.readAsDataURL(e.target.files[0]);\r\n          setFileName(e.target.files[0].name)\r\n          }\r\n        else\r\n        {\r\n          setFilesNa(handleClicks) // Code for Alert message show below \r\n          setFilesNa(e.target.files[0].name)\r\n          setsendDocs(e.target.files[0])\r\n         // setButtonSubmit( <Button autoFocus onClick={uploadFile} color=\"primary\"> Upload File </Button>);\r\n        }\r\n  }\r\n\r\n  \r\n   // Code for Snackbar \r\n\r\n   const [opens, setOpens] = React.useState(false);\r\n\r\n   const handleClicks = () => {\r\n     setOpens(true);\r\n   };\r\n \r\n   const handleCloses = (event, reason) => {\r\n     if (reason === 'clickaway') {\r\n       return;\r\n     }\r\n \r\n     setOpens(false);\r\n   };\r\n\r\n   // Code for Document Upload \r\n\r\n   const [selectedFiles, setSelectedFiles] = useState();\r\n\r\n    const uploadImage = async (e) =>\r\n    {\r\n      const formData = new FormData();\r\n      formData.append(\"file\", filename);\r\n      formData.append(\"name\", \"DHEERAJ\");\r\n  \r\n      await fetch(\"http://localhost:8000/api/upload\", {\r\n        method: \"POST\",\r\n        body: formData,\r\n      })\r\n      .then((result)=>{\r\n        //loadList();\r\n      })\r\n      .catch(()=>{\r\n        alert('Error in the Code');\r\n      });\r\n    }\r\n\r\n    // Code for File Upload\r\n\r\n\r\n    const uploadFile = async (e) =>\r\n    {\r\n      const formData = new FormData();\r\n      formData.append(\"files\", sendDocs);\r\n     \r\n      await fetch(\"http://localhost:8000/api/upload\", {\r\n        method: \"POST\",\r\n        body: formData,\r\n      })\r\n      .then((result)=>{\r\n         alert('File Upload Successully')\r\n      })\r\n      .catch(()=>{\r\n        alert('Error in the Code');\r\n      });\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n    \r\n    <Button onClick={handleClickOpen} variant=\"contained\" style={{background:\"red\",color:\"white\"}} ><PublishIcon/>AddFile</Button>\r\n      <div>  \r\n      <Dialog onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\r\n      <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n       <div> {filename != '' ? <Typography><b> Image Crop </b></Typography> : <Typography><b> File Upload </b></Typography> } </div>\r\n      </DialogTitle>\r\n       \r\n          <DialogContent dividers>\r\n            <Box >\r\n            <div className=\"File\" style={{width:\"300px\"}}>\r\n              <Box align=\"center\" mt={2}>\r\n                \r\n              {filename != '' ? <p></p> : <CloudUploadIcon color=\"disabled\" fontSiz=\"large\"  style={{width:40, height:40,}}/>  }</Box >\r\n\r\n              {filename != '' ? <Typography align=\"center\">Selected Image</Typography> : <Typography align=\"center\">{ filesNa != '' ? <p><Alert>{filesNa}</Alert> </p> : <h4>No File Selected</h4>}</Typography>  }\r\n                       \r\n            </div>\r\n \r\n            <div className=\"Image\" style={{marginTop:\"10px\"}}>\r\n             <form>\r\n             \r\n               <div>\r\n               {/* <input type=\"file\" name=\"file\" className=\"mb-4\" onChange={(e) => setSelectedFiles(e.target.files[0])} /> */}\r\n              <img src={filename}  style={{height:\"200px\",width:\"50%\"}}/>\r\n                \r\n             </div>\r\n            \r\n              </form>\r\n\r\n              {filename != '' ?\r\n            \r\n                <Box align=\"center\" mt={3}>\r\n                  <Button variant=\"contained\"  color=\"secondary\" size=\"small\" component=\"label\" style={{marginTop:\"10px\"}}>\r\n                  Choose another Image\r\n                <input  type=\"file\" accept=\".png, .jpg, .jpeg, .pdf,.docx\"  hidden onChange={handleChange}/>\r\n                </Button>   \r\n                </Box>\r\n                :\r\n               <Box align=\"center\" mt={2}></Box>\r\n            \r\n              \r\n                }\r\n            </div>  \r\n            \r\n         \r\n            {filename != '' ?\r\n              <Box align=\"center\" mt={2}></Box>\r\n              : \r\n              <Box align=\"center\">\r\n                 <Button variant=\"contained\"  color=\"secondary\" size=\"small\" component=\"label\" style={{marginTop:\"10px\"}}>\r\n                   Choose File\r\n                 <input  type=\"file\" accept=\".png, .jpg, .jpeg, .pdf,.docx\"  hidden onChange={handleChange}/>\r\n                 </Button>   \r\n             </Box>\r\n            }\r\n         </Box>\r\n            \r\n        </DialogContent>\r\n      <DialogActions>\r\n       {filename != '' ? \r\n        <Button autoFocus onClick={uploadImage} color=\"primary\">\r\n          Image Upload\r\n        </Button>\r\n        :\r\n         <Button autoFocus onClick={uploadFile} color=\"primary\">\r\n          Upload File\r\n        </Button>\r\n          }\r\n        {/* {buttonSubmit} */}\r\n        <Button autoFocus onClick={handleClose} color=\"primary\">\r\n         Close\r\n        </Button>\r\n       \r\n      </DialogActions>\r\n    </Dialog>\r\n    </div>\r\n    <Snackbar\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'left',\r\n        }}\r\n       \r\n        open={opens}\r\n        autoHideDuration={6000}\r\n        onClose={handleCloses}\r\n        message=\"File Uploaded Successfully\"\r\n        ContentProps={{\r\n          classes: {\r\n            root: classes.root\r\n          }\r\n        }}\r\n        action={\r\n          <React.Fragment>\r\n           \r\n            <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleCloses}>\r\n              <CloseIcon fontSize=\"small\" />\r\n            </IconButton>\r\n          </React.Fragment>\r\n        }\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}